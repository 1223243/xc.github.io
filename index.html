<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>新年快乐</title>
<style>
canvas {
    padding:0;
    margin:0;
}
body {
    background-image: url("./xue.jpg");
    background-color: #FFFFFF;
    background-position: center;
    background-repeat: no-repeat;
    background-size：100% 100%;
    background-attachment:fixed;
    overflow-x: hidden;
    overflow-y: hidden;
}
h1{
  position: fixed;
  top: 30%;
  left: 0;
  width: 100%;
  text-align: center;
  transform:translateY(-50%);
  font-family: 'Love Ya Like A Sister', cursive;
  font-size: 60px;
  color: #c70012;
  padding: 0 20px;
}
h1 span{
  position: fixed;
  left: 0;
  width: 100%;
  text-align: center;
margin-top:30px;
    font-size:40px;
}

h4{
  position: fixed;
  top: 10%;
  left: 20%;
  width: 100%;
  /* text-align: center; */
  transform:translateY(-50%);
  font-family: 'Love Ya Like A Sister', cursive;
  font-size: 33px;
  color: mediumpurple;
  padding: 0 20px;
}
h4 span{
  position: fixed;
  left: 0;
  width: 100%;
  text-align: center;
  margin-top:30px;
  font-size:40px;
}
h5{
	position: fixed;
	left: 0;
	width: 100%;
	text-align: center;
	margin-top:30px;
	font-size:40px;
	color: orange;
	font-family:"Times New Roman",Georgia,Serif;
}

</style>


</head>
<body >
<canvas id="background"></canvas>
<div>
	
	<div>
		<h4 id="h4">致奥运吉娃:XJY</h4>
		<h1 id="h1"></h1>
		
	</div>
	
	<audio controls preload="auto" id="vd" hidden="hidden">
			<source src="./FiveHundredMiles.mp3" type="audio/mpeg">
			您的浏览器不支持 音乐播放 元素。
	</audio>
</div>


<script>
window.onload=function starttime(){
        time(h1,'2022/1/1');    
		snow();
		setInterval("toggleSound()",100);
		// toggleSound();
        ptimer = setTimeout(starttime,1000); // 添加计时器
}
    function time(obj,futimg){
        var nowtime = new Date().getTime(); // 现在时间转换为时间戳
        var futruetime =  new Date(futimg).getTime(); // 未来时间转换为时间戳
        var msec = futruetime-nowtime; // 毫秒 未来时间-现在时间
        var time = (msec/1000);  // 毫秒/1000
        var day = parseInt(time/86400); // 天  24*60*60*1000
        var hour = parseInt(time/3600)-24*day;    // 小时 60*60 总小时数-过去的小时数=现在的小时数
        var minute = parseInt(time%3600/60); // 分 -(day*24) 以60秒为一整份 取余 剩下秒数 秒数/60 就是分钟数
        var second = parseInt(time%60);  // 以60秒为一整份 取余 剩下秒数
        obj.innerHTML="<br>距离2022年还有：<br>"+day+"天"+hour+"小时"+minute+"分"+second+"秒"
										 +"<br><span>新年快乐<br>愿你每一天<br>目含阳光,脸挂微笑<br></span><br><br><br>"+"<h5>Stay hungry,stay foolish</h5>"
										 
	}

	function toggleSound() {
		var music = document.getElementById("vd");//获取ID  
		
		if (music.paused) { //判读是否播放  
			music.paused=false;
			music.play(); //没有就播放 
		}    
    }
	
	function snow(){
		
	    const canvas = document.getElementById("background");
	    const ctx = canvas.getContext("2d");
	
	    const width = window.innerWidth;
	    const height = window.innerHeight;
	    canvas.width = width;
	    canvas.height = height;
	
	    //Set number of snowflakes
	    let numberFlakes = 100;
	    let snowflakes = [];
	
	    for(let i = 0; i < numberFlakes; i++){
	        snowflakes.push({
	            x: Math.random()*width,
	            y: Math.random()*height,
	            r: Math.random()*3+1,
	            d: Math.random() + 2
	        })
	    }
	
	    //Draw the snowflakes
	    function drawFlakes(){
	        ctx.clearRect(0, 0, width, height);
	        ctx.fillStyle = "white";
	        ctx.beginPath();
	
	        for(let i = 0; i < numberFlakes; i++){
	            let sf = snowflakes[i];
	            ctx.moveTo(sf.x, sf.y);
	            ctx.arc(sf.x, sf.y, sf.r, 0, Math.PI*2, true);
	        }
	        ctx.fill();
	        moveFlakes();
	    }
	
	    //Move the snowflakes
	    function moveFlakes(){
	        for(let i = 0; i < numberFlakes; i++){
	            let sf = snowflakes[i];
	            sf.y += Math.pow(sf.d, 2) + 1;
	
	            if(sf.y > height){
	                snowflakes[i] = {
	                    x: Math.random()*width, y: 0, r: sf.r, d: sf.d
	                };
	            }
	        }
	    }
	    //Snowflake animation
	    setInterval(drawFlakes, 26);
	}

</script>

</body>
</html>
